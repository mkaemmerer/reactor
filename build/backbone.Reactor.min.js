/*! Reactor 2013-10-10 */
!function(){var a=Backbone.Model.prototype.get,b=function(b){function c(a,b){d.set(b)}var d=new Reactor(a.call(this,b));return this.on("change:"+b,c,d),d.model=this,d},c=function(a){var c=b.call(this,a);return c.get()},d=function(a,b){var c=this;this.set(a,b.get()),b.on(function(b){c.set(a,b)})};_.extend(Backbone.Model.prototype,{getR:b,setR:d,createDerived:function(a,b){var d=this,e=new Reactor(function(){var a=Backbone.Model.prototype.get;Backbone.Model.prototype.get=c;var e=b.call(d);return Backbone.Model.prototype.get=a,e});return e.clearDependencies=function(){for(var a=0,b=this.dependencies.length;b>a;a++)this.dependencies[a].off(this.update),this.dependencies[a].model.off(null,null,this.dependencies[a]);this.dependencies=[]},this.setR(a,e),this}}),_.extend(Backbone.Collection.prototype,{lengthR:function(){function a(){c.set(b.length)}var b=this,c=new Reactor(this.length);return this.on("add remove reset",a,c),c}})}();